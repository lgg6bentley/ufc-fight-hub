<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â  <title>Fight Analysis - {{ fighter_a_name }} vs. {{ fighter_b_name }}</title> {# Dynamic Title #}
Â  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
Â  <style>
Â  Â  /* Specific styles for analysis.html to ensure proper image sizing and layout */
Â  Â  .matchup-card {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  Â  gap: 20px;
Â  Â  Â  background-color: #2a2a2a; /* Dark background for the card */
Â  Â  Â  padding: 30px;
Â  Â  Â  border-radius: 15px;
Â  Â  Â  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  flex-wrap: wrap; /* Allow wrapping on smaller screens */
Â  Â  }

Â  Â  .fighter {
Â  Â  Â  text-align: center;
Â  Â  Â  flex: 1; /* Allow fighters to take equal space */
Â  Â  Â  min-width: 180px; /* Minimum width before wrapping */
Â  Â  }

Â  Â  .fighter-img-wrapper {
Â  Â  Â  position: relative;
Â  Â  Â  width: 150px; /* Fixed size for the wrapper */
Â  Â  Â  height: 150px;
Â  Â  Â  margin: 0 auto 15px; /* Center and add bottom margin */
Â  Â  Â  border-radius: 50%; /* Make it circular */
Â  Â  Â  overflow: hidden; /* Hide overflow from circular image */
Â  Â  Â  border: 4px solid #ff8000; /* Accent border */
Â  Â  Â  box-shadow: 0 0 15px rgba(255, 128, 0, 0.6); /* Glow effect */
Â  Â  }

Â  Â  .fighter-img-circle {
Â  Â  Â  width: 100%; /* Image fills its circular wrapper */
Â  Â  Â  height: 100%;
Â  Â  Â  object-fit: cover; /* Crop image to fit without distortion */
Â  Â  Â  display: block; /* Remove extra space below image */
Â  Â  }

Â  Â  .belt-overlay {
Â  Â  Â  position: absolute;
Â  Â  Â  bottom: 5px; /* Position from bottom */
Â  Â  Â  right: 5px; /* Position from right */
Â  Â  Â  width: 50px; /* Size of the belt icon */
Â  Â  Â  height: auto;
Â  Â  Â  z-index: 10; /* Ensure it's above the fighter image */
Â  Â  }

Â  Â  .fighter h3 {
Â  Â  Â  color: #fff;
Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  margin-bottom: 0;
Â  Â  }

Â  Â  .vs-text {
Â  Â  Â  font-size: 3rem;
Â  Â  Â  font-weight: bold;
Â  Â  Â  color: #ff8000;
Â  Â  Â  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
Â  Â  Â  margin: 0 20px;
Â  Â  }

Â  Â  .fight-details {
Â  Â  Â  text-align: center;
Â  Â  Â  flex: 2; /* Allow details to take more space */
Â  Â  Â  min-width: 250px; /* Minimum width before wrapping */
Â  Â  Â  color: #eee;
Â  Â  }
Â  Â  .fight-details h1 {
Â  Â  Â  font-size: 2.2rem;
Â  Â  Â  color: #ff8000;
Â  Â  Â  margin-bottom: 10px;
Â  Â  }
Â  Â  .fight-details p {
Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  margin-bottom: 5px;
Â  Â  }

Â  Â  .fight-stats {
Â  Â  Â  width: 100%;
Â  Â  Â  margin-top: 30px;
Â  Â  Â  overflow-x: auto; /* Allow horizontal scrolling for table on small screens */
Â  Â  }

Â  Â  .stats-table {
Â  Â  Â  width: 100%;
Â  Â  Â  border-collapse: collapse;
Â  Â  Â  margin: 0 auto;
Â  Â  Â  background-color: #3b3b3b; /* Darker background for table */
Â  Â  Â  color: #eee;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  overflow: hidden; /* Ensures border-radius applies */
Â  Â  }

Â  Â  .stats-table th, .stats-table td {
Â  Â  Â  border: 1px solid #555;
Â  Â  Â  padding: 12px 15px;
Â  Â  Â  text-align: left;
Â  Â  }

Â  Â  .stats-table th {
Â  Â  Â  background-color: #ff8000; /* Accent color for headers */
Â  Â  Â  color: #fff;
Â  Â  Â  font-weight: bold;
Â  Â  Â  text-transform: uppercase;
Â  Â  Â  font-size: 1.1rem;
Â  Â  }

Â  Â  .stats-table tr:nth-child(even) {
Â  Â  Â  background-color: #4a4a4a; /* Alternate row color */
Â  Â  }

Â  Â  .winner-percentage {
Â  Â  Â  text-align: center;
Â  Â  Â  margin-top: 30px;
Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  font-weight: bold;
Â  Â  Â  color: #fff;
Â  Â  }
Â  Â  .winner-percentage span {
Â  Â  Â  display: block; /* Each percentage on a new line */
Â  Â  Â  margin-bottom: 10px;
Â  Â  }
Â  Â  .winner-percentage span:first-child {
Â  Â  Â  color: #ff8000; /* Accent color for first fighter's chance */
Â  Â  }
Â  Â  .winner-percentage span:last-child {
Â  Â  Â  color: #00bfff; /* Another accent color for second fighter's chance */
Â  Â  }

Â  Â  .interactive-buttons {
Â  Â  Â  text-align: center;
Â  Â  Â  margin-top: 30px;
Â  Â  }
Â  Â  .interactive-buttons button {
Â  Â  Â  background-color: #ff8000;
Â  Â  Â  color: #fff;
Â  Â  Â  border: none;
Â  Â  Â  padding: 12px 25px;
Â  Â  Â  margin: 10px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  transition: background-color 0.3s ease, transform 0.2s ease;
Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
Â  Â  }
Â  Â  .interactive-buttons button:hover {
Â  Â  Â  background-color: #e67300;
Â  Â  Â  transform: translateY(-2px);
Â  Â  }

Â  Â  .analysis-box, .winner-box {
Â  Â  Â  background-color: #3b3b3b;
Â  Â  Â  padding: 20px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  margin-top: 20px;
Â  Â  Â  color: #eee;
Â  Â  Â  box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.2);
Â  Â  }
Â  Â  .winner-box {
Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  font-weight: bold;
Â  Â  Â  text-align: center;
Â  Â  Â  color: #00bfff; /* Distinct color for winner prediction */
Â  Â  }

Â  Â  /* Responsive adjustments for smaller screens */
Â  Â  @media (max-width: 768px) {
Â  Â  Â  .matchup-card {
Â  Â  Â  Â  flex-direction: column; /* Stack fighters vertically */
Â  Â  Â  Â  gap: 15px;
Â  Â  Â  }
Â  Â  Â  .fighter {
Â  Â  Â  Â  min-width: unset; /* Remove min-width to allow full flexibility */
Â  Â  Â  Â  width: 100%;
Â  Â  Â  }
Â  Â  Â  .fighter-img-wrapper {
Â  Â  Â  Â  width: 120px; /* Smaller images on small screens */
Â  Â  Â  Â  height: 120px;
Â  Â  Â  }
Â  Â  Â  .fighter h3 {
Â  Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  }
Â  Â  Â  .vs-text {
Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  Â  margin: 10px 0;
Â  Â  Â  }
Â  Â  Â  .fight-details {
Â  Â  Â  Â  min-width: unset;
Â  Â  Â  Â  width: 100%;
Â  Â  Â  }
Â  Â  Â  .fight-details h1 {
Â  Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  }
Â  Â  Â  .stats-table th, .stats-table td {
Â  Â  Â  Â  padding: 8px 10px;
Â  Â  Â  Â  font-size: 0.9rem;
Â  Â  Â  }
Â  Â  Â  .interactive-buttons button {
Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  margin: 5px auto;
Â  Â  Â  Â  display: block;
Â  Â  Â  }
Â  Â  }
Â  </style>
Â  <script>
Â  Â  function handleImageError(img) {
Â  Â  Â  img.src = "{{ url_for('static', filename='images/placeholder.jpg') }}";
Â  Â  }
Â  </script>
</head>
<body>
Â  <header>
Â  Â  <h1>Fight Analysis: {{ fighter_a_name }} vs. {{ fighter_b_name }}</h1> {# Dynamic Header #}
Â  Â  <nav>
Â  Â  Â  <a href="{{ url_for('index') }}">Home</a>
Â  Â  Â  <a href="{{ url_for('upcoming_page') }}">Next Fight Card</a>
Â  Â  Â  <a href="{{ url_for('prediction_page') }}">AI Predictions</a>
Â  Â  Â  <a href="{{ url_for('analysis_page') }}">Fight Analysis</a>
Â  Â  Â  <a href="{{ url_for('fighters_page') }}">Fighter Database</a>
Â  Â  Â  <a href="{{ url_for('parlay_predictor') }}" class="button parlay-button">
Â  Â  Â  Â  ðŸŽ¯ Try the Parlay Predictor
Â  Â  Â  </a>
Â  Â  </nav>
Â  </header>

Â  <main class="container">
Â  Â  <section id="fight-analysis">
Â  Â  Â  <h2>ðŸ”¥ {{ event }} Main Event Breakdown</h2> {# Dynamic Event Name #}
Â  Â  Â  <p>
Â  Â  Â  Â  This analysis focuses on the highly anticipated main event of {{ event }}, featuring a clash between {{ fighter_a_name }} and {{ fighter_b_name }}.
Â  Â  Â  </p>

Â  Â  Â  <div class="matchup-card">
Â  Â  Â  Â  <div class="fighter">
Â  Â  Â  Â  Â  <div class="fighter-img-wrapper">
Â  Â  Â  Â  Â  Â  <img src="{{ fighter_a_image }}" alt="{{ fighter_a_name }}" class="fighter-img-circle" onerror="handleImageError(this)"> {# Dynamic Image #}
Â  Â  Â  Â  Â  Â  {% if fighter_a_is_champ %}
Â  Â  Â  Â  Â  Â  Â  <img src="{{ url_for('static', filename='images/champ_belt.png') }}" alt="Champion Belt" class="belt-overlay">
Â  Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <h3>{{ fighter_a_name }}</h3> {# Dynamic Name #}
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="fight-details">
Â  Â  Â  Â  Â  <h1>Fight Analysis â€“ {{ event }}</h1>
Â  Â  Â  Â  Â  <p>Date: {{ date }}</p>
Â  Â  Â  Â  Â  <p>Location: {{ location }}</p>
Â  Â  Â  Â  Â  {% if fighter_a_is_champ %}
Â  Â  Â  Â  Â  Â  <p>{{ fighter_a_name }} enters as the reigning Champion.</p>
Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  Â  {% if fighter_b_is_challenger %}
Â  Â  Â  Â  Â  Â  <p>{{ fighter_b_name }} looks to claim the title.</p>
Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="vs-text">VS</div>

Â  Â  Â  Â  <div class="fighter">
Â  Â  Â  Â  Â  <div class="fighter-img-wrapper">
Â  Â  Â  Â  Â  Â  <img src="{{ fighter_b_image }}" alt="{{ fighter_b_name }}" class="fighter-img-circle" onerror="handleImageError(this)"> {# Dynamic Image #}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <h3>{{ fighter_b_name }}</h3> {# Dynamic Name #}
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  Â  <div class="fight-stats">
Â  Â  Â  Â  <table class="stats-table">
Â  Â  Â  Â  Â  <tr><th>Stat</th><th>{{ fighter_a_name }}</th><th>{{ fighter_b_name }}</th></tr> {# Dynamic Names #}
Â  Â  Â  Â  Â  <tr><td>Record</td><td>{{ fighter_a_record }}</td><td>{{ fighter_b_record }}</td></tr> {# Dynamic Records #}
Â  Â  Â  Â  Â  <tr><td>Weight Class</td><td>{{ fighter_a_weight_class }}</td><td>{{ fighter_b_weight_class }}</td></tr> {# Dynamic Weight Class #}
Â  Â  Â  Â  Â  <tr><td>KO/TKO Wins</td><td>{{ fighter_a_koto_wins }}</td><td>{{ fighter_b_koto_wins }}</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  Â  <tr><td>Submission Wins</td><td>{{ fighter_a_sub_wins }}</td><td>{{ fighter_b_sub_wins }}</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  Â  <tr><td>Reach</td><td>{{ fighter_a_reach }} in</td><td>{{ fighter_b_reach }} in</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  Â  <tr><td>Height</td><td>{{ fighter_a_height_ft }}'{{ fighter_a_height_in }}"</td><td>{{ fighter_b_height_ft }}'{{ fighter_b_height_in }}"</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  Â  <tr><td>Stance</td><td>{{ fighter_a_stance }}</td><td>{{ fighter_b_stance }}</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  </table>
Â  Â  Â  </div>

Â  Â  Â  <div class="winner-percentage">
Â  Â  Â  Â  <span>{{ fighter_a_name }}: {{ "%0.0f" % fighter_a_win_chance }}% chance to win</span><br> {# NOW DYNAMIC #}
Â  Â  Â  Â  <span>{{ fighter_b_name }}: {{ "%0.0f" % fighter_b_win_chance }}% chance to win</span> {# NOW DYNAMIC #}
Â  Â  Â  </div>

Â  Â  Â  <div class="interactive-buttons">
Â  Â  Â  Â  <button id="view-analysis">View Full Analysis</button>
Â  Â  Â  Â  <button id="predict-winner">Predict Winner</button>
Â  Â  Â  Â  <button id="watch-highlights">Watch Highlights</button>
Â  Â  Â  </div>

Â  Â  Â  <div id="analysis-content" class="analysis-box" style="display: none;">
Â  Â  Â  Â  <p>
Â  Â  Â  Â  Â  This section would contain a detailed, AI-generated analysis of the fight between {{ fighter_a_name }} and {{ fighter_b_name }}. It would cover their strengths, weaknesses, potential fight strategies, and key factors that might determine the outcome.
Â  Â  Â  Â  Â  For example, it could discuss {{ fighter_a_name }}'s grappling dominance against {{ fighter_b_name }}'s striking prowess.
Â  Â  Â  Â  </p>
Â  Â  Â  </div>

Â  Â  Â  <div id="winner-prediction" class="winner-box" style="display: none;"></div>
Â  Â  </section>
Â  </main>

Â  <footer>
Â  Â  <p>&copy; 2025 UFC Fight Hub. All rights reserved.</p>
Â  </footer>

Â  <script>
Â  Â  document.addEventListener("DOMContentLoaded", () => {
Â  Â  Â  const fighterA = "{{ fighter_a_name }}";
Â  Â  Â  const fighterB = "{{ fighter_b_name }}";

Â  Â  Â  document.getElementById("view-analysis").addEventListener("click", () => {
Â  Â  Â  Â  document.getElementById("analysis-content").style.display = "block";
Â  Â  Â  });

Â  Â  Â  document.getElementById("predict-winner").addEventListener("click", () => {
Â  Â  Â  Â  // Use the win chances passed from Flask for a more realistic prediction
Â  Â  Â  Â  const fighterAWinChance = parseFloat("{{ fighter_a_win_chance }}");
Â  Â  Â  Â  const randomNum = Math.random() * 100;
Â  Â  Â  Â  const winner = randomNum < fighterAWinChance ? fighterA : fighterB;

Â  Â  Â  Â  const box = document.getElementById("winner-prediction");
Â  Â  Â  Â  box.innerHTML = `Predicted Winner: <strong>${winner}</strong>`;
Â  Â  Â  Â  box.style.display = "block";
Â  Â  Â  });

Â  Â  Â  document.getElementById("watch-highlights").addEventListener("click", () => {
Â  Â  Â  Â  window.open(`https://www.youtube.com/results?search_query=${fighterA.replace(' ', '+')}+vs+${fighterB.replace(' ', '+')}+highlights`, "_blank");
Â  Â  Â  });
Â  Â  });
Â  </script>
</body>
</html>
