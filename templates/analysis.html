<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â  <title>Fight Analysis - {{ fighter_a_name }} vs. {{ fighter_b_name }}</title> {# Dynamic Title #}
Â  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
Â  <script>
Â  Â  function handleImageError(img) {
Â  Â  Â  img.src = "{{ url_for('static', filename='images/placeholder.jpg') }}";
Â  Â  }
Â  </script>
</head>
<body>
Â  <header>
Â  Â  <h1>Fight Analysis: {{ fighter_a_name }} vs. {{ fighter_b_name }}</h1> {# Dynamic Header #}
Â  Â  <nav>
Â  Â  Â  <a href="{{ url_for('index') }}">Home</a>
Â  Â  Â  <a href="{{ url_for('upcoming_page') }}">Next Fight Card</a>
Â  Â  Â  <a href="{{ url_for('prediction_page') }}">AI Predictions</a>
Â  Â  Â  <a href="{{ url_for('analysis_page') }}">Fight Analysis</a>
Â  Â  Â  <a href="{{ url_for('fighters_page') }}">Fighter Database</a>
Â  Â  Â  <a href="{{ url_for('parlay_predictor') }}" class="button parlay-button">
Â  Â  Â  Â  ðŸŽ¯ Try the Parlay Predictor
Â  Â  Â  </a>
Â  Â  </nav>
Â  </header>

Â  <main class="container">
Â  Â  <section id="fight-analysis">
Â  Â  Â  <h2>ðŸ”¥ {{ event }} Main Event Breakdown</h2> {# Dynamic Event Name #}
Â  Â  Â  <p>
Â  Â  Â  Â  This analysis focuses on the highly anticipated main event of {{ event }}, featuring a clash between {{ fighter_a_name }} and {{ fighter_b_name }}.
Â  Â  Â  </p>

Â  Â  Â  <div class="matchup-card">
Â  Â  Â  Â  <div class="fighter">
Â  Â  Â  Â  Â  <div class="fighter-img-wrapper">
Â  Â  Â  Â  Â  Â  <img src="{{ fighter_a_image }}" alt="{{ fighter_a_name }}" class="fighter-img-circle" onerror="handleImageError(this)"> {# Dynamic Image #}
Â  Â  Â  Â  Â  Â  {% if fighter_a_is_champ %}
Â  Â  Â  Â  Â  Â  Â  <img src="{{ url_for('static', filename='images/champ_belt.png') }}" alt="Champion Belt" class="belt-overlay">
Â  Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <h3>{{ fighter_a_name }}</h3> {# Dynamic Name #}
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="fight-details">
Â  Â  Â  Â  Â  <h1>Fight Analysis â€“ {{ event }}</h1>
Â  Â  Â  Â  Â  <p>Date: {{ date }}</p>
Â  Â  Â  Â  Â  <p>Location: {{ location }}</p>
Â  Â  Â  Â  Â  {% if fighter_a_is_champ %}
Â  Â  Â  Â  Â  Â  <p>{{ fighter_a_name }} enters as the reigning Champion.</p>
Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  Â  {% if fighter_b_is_challenger %}
Â  Â  Â  Â  Â  Â  <p>{{ fighter_b_name }} looks to claim the title.</p>
Â  Â  Â  Â  Â  {% endif %}
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="vs-text">VS</div>

Â  Â  Â  Â  <div class="fighter">
Â  Â  Â  Â  Â  <div class="fighter-img-wrapper">
Â  Â  Â  Â  Â  Â  <img src="{{ fighter_b_image }}" alt="{{ fighter_b_name }}" class="fighter-img-circle" onerror="handleImageError(this)"> {# Dynamic Image #}
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <h3>{{ fighter_b_name }}</h3> {# Dynamic Name #}
Â  Â  Â  Â  </div>
Â  Â  Â  </div>

Â  Â  Â  <div class="fight-stats">
Â  Â  Â  Â  <table class="stats-table">
Â  Â  Â  Â  Â  <tr><th>Stat</th><th>{{ fighter_a_name }}</th><th>{{ fighter_b_name }}</th></tr> {# Dynamic Names #}
Â  Â  Â  Â  Â  <tr><td>Record</td><td>{{ fighter_a_record }}</td><td>{{ fighter_b_record }}</td></tr> {# Dynamic Records #}
Â  Â  Â  Â  Â  <tr><td>Weight Class</td><td>{{ fighter_a_weight_class }}</td><td>{{ fighter_b_weight_class }}</td></tr> {# Dynamic Weight Class #}
Â  Â  Â  Â  Â  <tr><td>KO/TKO Wins</td><td>{{ fighter_a_koto_wins }}</td><td>{{ fighter_b_koto_wins }}</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  Â  <tr><td>Submission Wins</td><td>{{ fighter_a_sub_wins }}</td><td>{{ fighter_b_sub_wins }}</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  Â  <tr><td>Reach</td><td>{{ fighter_a_reach }} in</td><td>{{ fighter_b_reach }} in</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  Â  <tr><td>Height</td><td>{{ fighter_a_height_ft }}'{{ fighter_a_height_in }}"</td><td>{{ fighter_b_height_ft }}'{{ fighter_b_height_in }}"</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  Â  <tr><td>Stance</td><td>{{ fighter_a_stance }}</td><td>{{ fighter_b_stance }}</td></tr> {# NOW DYNAMIC #}
Â  Â  Â  Â  </table>
Â  Â  Â  </div>

Â  Â  Â  <div class="winner-percentage">
Â  Â  Â  Â  <span>{{ fighter_a_name }}: {{ "%0.0f" % fighter_a_win_chance }}% chance to win</span><br> {# NOW DYNAMIC #}
Â  Â  Â  Â  <span>{{ fighter_b_name }}: {{ "%0.0f" % fighter_b_win_chance }}% chance to win</span> {# NOW DYNAMIC #}
Â  Â  Â  </div>

Â  Â  Â  <div class="interactive-buttons">
Â  Â  Â  Â  <button id="view-analysis">View Full Analysis</button>
Â  Â  Â  Â  <button id="predict-winner">Predict Winner</button>
Â  Â  Â  Â  <button id="watch-highlights">Watch Highlights</button>
Â  Â  Â  </div>

Â  Â  Â  <div id="analysis-content" class="analysis-box" style="display: none;">
Â  Â  Â  Â  <p>
Â  Â  Â  Â  Â  This section would contain a detailed, AI-generated analysis of the fight between {{ fighter_a_name }} and {{ fighter_b_name }}. It would cover their strengths, weaknesses, potential fight strategies, and key factors that might determine the outcome.
Â  Â  Â  Â  Â  For example, it could discuss {{ fighter_a_name }}'s grappling dominance against {{ fighter_b_name }}'s striking prowess.
Â  Â  Â  Â  </p>
Â  Â  Â  </div>

Â  Â  Â  <div id="winner-prediction" class="winner-box" style="display: none;"></div>
Â  Â  </section>
Â  </main>

Â  <footer>
Â  Â  <p>&copy; 2025 UFC Fight Hub. All rights reserved.</p>
Â  </footer>

Â  <script>
Â  Â  document.addEventListener("DOMContentLoaded", () => {
Â  Â  Â  const fighterA = "{{ fighter_a_name }}";
Â  Â  Â  const fighterB = "{{ fighter_b_name }}";

Â  Â  Â  document.getElementById("view-analysis").addEventListener("click", () => {
Â  Â  Â  Â  document.getElementById("analysis-content").style.display = "block";
Â  Â  Â  });

Â  Â  Â  document.getElementById("predict-winner").addEventListener("click", () => {
Â  Â  Â  Â  // Use the win chances passed from Flask for a more realistic prediction
Â  Â  Â  Â  const fighterAWinChance = parseFloat("{{ fighter_a_win_chance }}");
Â  Â  Â  Â  const randomNum = Math.random() * 100;
Â  Â  Â  Â  const winner = randomNum < fighterAWinChance ? fighterA : fighterB;

Â  Â  Â  Â  const box = document.getElementById("winner-prediction");
Â  Â  Â  Â  box.innerHTML = `Predicted Winner: <strong>${winner}</strong>`;
Â  Â  Â  Â  box.style.display = "block";
Â  Â  Â  });

Â  Â  Â  document.getElementById("watch-highlights").addEventListener("click", () => {
Â  Â  Â  Â  window.open(`https://www.youtube.com/results?search_query=${fighterA.replace(' ', '+')}+vs+${fighterB.replace(' ', '+')}+highlights`, "_blank");
Â  Â  Â  });
Â  Â  });
Â  </script>
</body>
</html>
