<!DOCTYPE html>
<html>
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â  <title>AI Parlay Predictor</title>
Â  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
Â  <style>
Â  Â  /* Basic styling for the dropdown and parlay blocks */
Â  Â  #parlayType {
Â  Â  Â  margin: 10px 0;
Â  Â  Â  padding: 8px 12px;
Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  border-radius: 5px;
Â  Â  Â  background-color: #f9f9f9;
Â  Â  Â  cursor: pointer;
Â  Â  }
Â  Â  .parlay-block {
Â  Â  Â  margin-top: 25px;
Â  Â  Â  padding: 20px;
Â  Â  Â  background-color: #2a2a2a; /* Darker background for parlay blocks */
Â  Â  Â  border-radius: 10px;
Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
Â  Â  Â  color: #eee; /* Light text for dark background */
Â  Â  }
Â  Â  .parlay-block h3 {
Â  Â  Â  color: #ff8000; /* Accent color for parlay type */
Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  font-size: 1.8rem;
Â  Â  }
Â  Â  .parlay-block ul {
Â  Â  Â  list-style: none;
Â  Â  Â  padding: 0;
Â  Â  Â  margin-bottom: 20px;
Â  Â  }
Â  Â  .parlay-block li {
Â  Â  Â  background-color: #3b3b3b; /* Slightly lighter background for list items */
Â  Â  Â  margin-bottom: 10px;
Â  Â  Â  padding: 15px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  border-left: 5px solid #ff8000; /* Accent border */
Â  Â  }
Â  Â  .parlay-block li strong {
Â  Â  Â  color: #fff;
Â  Â  Â  font-size: 1.1rem;
Â  Â  }
Â  Â  .parlay-block p {
Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  margin-bottom: 8px;
Â  Â  }
Â  Â  .parlay-block p strong {
Â  Â  Â  color: #ff8000;
Â  Â  }
Â  Â  .fight-list-item {
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  gap: 10px;
Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  background-color: #2a2a2a; /* Consistent with main background */
Â  Â  Â  padding: 10px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  border: 1px solid #444;
Â  Â  }
Â  Â  /* FIX: Ensure images within fight-list-item are properly sized */
Â  Â  .fight-list-item img {
Â  Â  Â  width: 80px; /* Increased size slightly for better visibility */
Â  Â  Â  height: 80px; /* Maintain aspect ratio */
Â  Â  Â  border-radius: 50%; /* Keep circular */
Â  Â  Â  object-fit: cover; /* Ensure image covers the area without distortion */
Â  Â  Â  border: 3px solid #ff8000; /* Slightly thicker accent border */
Â  Â  Â  flex-shrink: 0; /* Prevent images from shrinking if space is tight */
Â  Â  }
Â  Â  .fight-list-item span {
Â  Â  Â  font-weight: bold;
Â  Â  Â  color: #fff;
Â  Â  Â  white-space: nowrap; /* Prevent names from wrapping too early */
Â  Â  }
Â  Â  .fight-list-item .vs-text-small {
Â  Â  Â  font-size: 0.9em; /* Slightly larger for readability */
Â  Â  Â  color: #aaa;
Â  Â  Â  margin: 0 5px; /* Add some spacing around "vs" */
Â  Â  }
Â  Â  /* Responsive adjustments for smaller screens */
Â  Â  @media (max-width: 768px) {
Â  Â  Â  .fight-list-item {
Â  Â  Â  Â  flex-wrap: wrap; /* Allow items to wrap to next line */
Â  Â  Â  Â  justify-content: center; /* Center items when wrapped */
Â  Â  Â  Â  text-align: center;
Â  Â  Â  }
Â  Â  Â  .fight-list-item img {
Â  Â  Â  Â  width: 60px; /* Smaller images on small screens */
Â  Â  Â  Â  height: 60px;
Â  Â  Â  }
Â  Â  Â  .fight-list-item span {
Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  }
Â  Â  Â  .fight-list-item .vs-text-small {
Â  Â  Â  Â  width: 100%; /* Make "vs" take full width when wrapped */
Â  Â  Â  Â  margin: 5px 0;
Â  Â  Â  }
Â  Â  }
Â  </style>
</head>
<body>
Â  <header>
Â  Â  <h1>ðŸ¤– AI-Powered Parlay Predictor</h1>
Â  Â  <nav>
Â  Â  Â  <a href="{{ url_for('index') }}">Home</a>
Â  Â  Â  <a href="{{ url_for('upcoming_page') }}">Next Fight Card</a>
Â  Â  Â  <a href="{{ url_for('prediction_page') }}">AI Predictions</a>
Â  Â  Â  <a href="{{ url_for('analysis_page') }}">Fight Analysis</a>
Â  Â  Â  <a href="{{ url_for('fighters_page') }}">Fighter Database</a>
Â  Â  </nav>
Â  </header>

Â  <main class="container">
Â  Â  {# Dynamic Event Name #}
Â  Â  <h2>Upcoming Event: {{ upcoming_fights[0].event_name if upcoming_fights else 'No Event' }}</h2>
Â  Â  <h3>Fight Card</h3>
Â  Â  <div class="fight-list">
Â  Â  Â  {% for fight in upcoming_fights %}
Â  Â  Â  Â  <div class="fight-list-item">
Â  Â  Â  Â  Â  <img src="{{ url_for('static', filename=fight.image_a) }}" alt="{{ fight.fighter_a }}" onerror="handleImageError(this)">
Â  Â  Â  Â  Â  <span>{{ fight.fighter_a }}</span>
Â  Â  Â  Â  Â  <span class="vs-text-small">vs</span>
Â  Â  Â  Â  Â  <span>{{ fight.fighter_b }}</span>
Â  Â  Â  Â  Â  <img src="{{ url_for('static', filename=fight.image_b) }}" alt="{{ fight.fighter_b }}" onerror="handleImageError(this)">
Â  Â  Â  Â  Â  <span style="margin-left: auto; color: #aaa;">({{ fight.weight_class }})</span>
Â  Â  Â  Â  </div>
Â  Â  Â  {% endfor %}
Â  Â  </div>

Â  Â  <hr>

Â  Â  <h2>AI-Generated Parlays</h2>

Â  Â  <div>
Â  Â  Â  <label for="parlayType">Choose Parlay Type:</label>
Â  Â  Â  <select id="parlayType" onchange="showParlay(this.value)">
Â  Â  Â  Â  <option value="safe">Safe</option>
Â  Â  Â  Â  <option value="risky">Risky</option>
Â  Â  Â  Â  <option value="wildcard">Wildcard</option>
Â  Â  Â  </select>
Â  Â  </div>

Â  Â  <div id="parlayContainer">
Â  Â  Â  {% for type, legs in parlays.items() %}
Â  Â  Â  Â  <div class="parlay-block" id="parlay-{{ type }}" style="display: none;">
Â  Â  Â  Â  Â  <h3>{{ type|capitalize }} Parlay</h3>
Â  Â  Â  Â  Â  <ul>
Â  Â  Â  Â  Â  Â  {% for leg in legs %}
Â  Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  <strong>{{ leg.fight }}</strong><br>
Â  Â  Â  Â  Â  Â  Â  Â  Pick: {{ leg.pick }}<br>
Â  Â  Â  Â  Â  Â  Â  Â  Type: {{ leg.type }}<br>
Â  Â  Â  Â  Â  Â  Â  Â  Estimated Odds: {{ leg.odds }}
Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  {% endfor %}
Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  Â  <p><strong>Total Odds:</strong> {{ "%.2f" % total_odds[type] }}</p> {# Format to 2 decimal places #}
Â  Â  Â  Â  Â  <p><strong>Stake:</strong> ${{ "%.2f" % stake }}</p> {# Format to 2 decimal places #}
Â  Â  Â  Â  Â  <p><strong>Projected Payout:</strong> ${{ "%.2f" % payouts[type] }}</p> {# Format to 2 decimal places #}
Â  Â  Â  Â  Â  <hr>
Â  Â  Â  Â  </div>
Â  Â  Â  {% endfor %}
Â  Â  </div>
Â  </main>

Â  <footer>
Â  Â  <p>&copy; 2025 UFC Fight Hub. All rights reserved.</p>
Â  </footer>

Â  <script>
Â  Â  function handleImageError(img) {
Â  Â  Â  img.src = "{{ url_for('static', filename='images/placeholder.jpg') }}";
Â  Â  }

Â  Â  function showParlay(type) {
Â  Â  Â  const blocks = document.querySelectorAll('.parlay-block');
Â  Â  Â  blocks.forEach(block => block.style.display = 'none');
Â  Â  Â  const selected = document.getElementById('parlay-' + type);
Â  Â  Â  if (selected) selected.style.display = 'block';
Â  Â  }

Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  showParlay('safe');
Â  Â  });
Â  </script>
</body>
</html>
